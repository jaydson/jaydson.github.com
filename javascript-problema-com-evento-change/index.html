
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Javascript - Problema com Evento Change - Jaydson Gomes</title>
  <meta name="author" content="Jaydson Gomes">

  
  <meta name="description" content="Last week I encountered a problem in Internet Explorer (Déjà vu).
The functionality we needed was very simple to implement:
Check if the form was &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <meta property="og:title" content="Jaydson Gomes" />
  <meta property="og:description" content="Um Blog sobre HTML5 e JavaScript" />
  <meta property="og:image" content="/images/jaydson-gomes-logo.png" />

  
  <link rel="canonical" href="http://jaydson.org/javascript-problema-com-evento-change/">
  <link href="/favicon.png" rel="icon">
  <link href='http://fonts.googleapis.com/css?family=Ubuntu+Condensed' rel='stylesheet' type='text/css'>
  <link href="/stylesheets/blog-header-experiments.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Jaydson Gomes" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1264252-8']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup id="header-stage">
  <h1><a href="/">Jaydson Gomes</a></h1>
  
    <h2>HTML5 | JavaScript</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:jaydson.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Javascript - Problema Com Evento Change</h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-10-13T22:58:42-03:00" pubdate data-updated="true">Oct 13<span>th</span>, 2009</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>Last week I encountered a problem in Internet Explorer <strong><em>(Déjà vu)</em></strong>.
The functionality we needed was very simple to implement:
<strong>Check if the form was changed</strong>. That is, if the User is on the page and decides to just go out and form has changed, we needed to alert him.
What I thought then was to use the event <a href="http://www.quirksmode.org/dom/events/change.html">change</a> of the <form>.
Semana passada deparei-me com um problema no Internet Explorer <strong><em>(Déjà vu)</em></strong>.
A funcionalidade que precisavamos implementar era bem simples:
<strong>Verificar se o formulário foi alterado. </strong>Ou seja, se o usuário está na página e resolve simplesmente sair e o formulário foi alterado, precisavamos alerta-lo.
O que me ocorreu na hora foi utilizar o Evento <a href="http://www.quirksmode.org/dom/events/change.html">change</a> do <form>.</p>

<!-- more -->


<p>I did the test in Firefox and everything went as planned. By changing the value of any element within the form the change event is fired.
But&#8230; in our &#8220;friend&#8221; Internet Explorer?
Surprise!
It did not work. So I went searching to see why the problem.
In this link  <a href="http://www.quirksmode.org/dom/events/change.html">http://www.quirksmode.org/dom/events/change.html</a> of QuirksMode is quite easy to understand.
In Internet Explorer the change event is not fired when the form is changed.</p>

<p><strong>Note:</strong> Realize that it is only in IE it happens. Below is a list of browsers that support the change event in the form:</p>

<p>FF 2.0
FF 3.0
FF 3.1b2
Saf 3.0 Win
Saf 3.1 Win
iPhone 3G
Chrome 1.0
Opera 9.62
Opera 10a
Konqueror 3.5.7</p>

<p>Font: QuirksMode. <strong>Another Note:</strong> In IE the change event is not fired in the window and document objects. In all the above list does.
For Internet Explorer the only element that triggers the change event properly is the <input>.</p>

<p><strong>Solution</strong><strong>:</strong>
As the project was using jQuery was simple to solve another problem in IE. Follow the code below:</p>

<p>[javascript]</p>

<p>$(&quot;form <em>&quot;).bind(&quot;change&quot;, function(){ /</em> Code here*/});</p>

<p>[/javascript]</p>

<p>The above code loops over all elements of form and atach the change event for each of them.</p>

<p>Well, that&#8217;s it.
Working and learning.</p>

<hr />

<p>FF 2.0
FF 3.0
FF 3.1b2
Saf 3.0 Win
Saf 3.1 Win
iPhone 3G
Chrome 1.0
Opera 9.62
Opera 10a
Konqueror 3.5.7</p>

<p>Fiz o teste no Firefox e tudo ocorreu como o previsto. Ao alterar o valor de qualquer elemento dentro do formulário o evento change é disparado.
Mas&#8230; e no nosso &#8220;amigo&#8221; Internet Explorer?
Surpresa!
Não funcionou. Então fui pesquisar para ver o porque do problema.
Neste link  <a href="http://www.quirksmode.org/dom/events/change.html">http://www.quirksmode.org/dom/events/change.html</a> do QuirksMode fica bem fácil de entender.
O que acontece é que no Internet Explorer o evento change não é disparado ao alterar um formulário.</p>

<p><strong>Nota:</strong> Percebam que é somente no IE que isso acontece. Abaixo segue a lista de Browsers que suportam o evento change no Formulário:</p>

<p>FF 2.0
FF 3.0
FF 3.1b2
Saf 3.0 Win
Saf 3.1 Win
iPhone 3G
Chrome 1.0
Opera 9.62
Opera 10a
Konqueror 3.5.7</p>

<p>Fonte: QuirksMode. <strong>Outra Nota:</strong> No IE o evento change também não é disparado nos objetos window e document. Em todos da lista acima sim.
Para o Internet Explorer o único elemento que dispara o evento change corretamente  é o <input>.</p>

<p><strong>Solução:</strong>
Como o projeto estava utilizando jQuery foi simples resolver mais um problema no IE. Segue o código abaixo:</p>

<p>[javascript]</p>

<p>$(&#8220;form <em>&#8221;).bind(&#8220;change&#8221;, function(){ /</em> Código aqui*/});</p>

<p>[/javascript]</p>

<p>O código acima varre todos elementos do formulário e &#8220;atacha&#8221; o evento change para cada um deles.</p>

<p>Bom, é isso.
Trabalhando e aprendendo.</p>

<hr />

<p>FF 2.0
FF 3.0
FF 3.1b2
Saf 3.0 Win
Saf 3.1 Win
iPhone 3G
Chrome 1.0
Opera 9.62
Opera 10a
Konqueror 3.5.7</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Jaydson Gomes</span></span>

      








  


<time datetime="2009-10-13T22:58:42-03:00" pubdate data-updated="true">Oct 13<span>th</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/browsers/'>Browsers</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://jaydson.org/javascript-problema-com-evento-change/" data-via="" data-counturl="http://jaydson.org/javascript-problema-com-evento-change/" >Tweet</a>
  
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/capturar-erros-ajax-com-jquery/" title="Previous Post: Capturar erros Ajax com jQuery">&laquo; Capturar erros Ajax com jQuery</a>
      
      
        <a class="basic-alignment right" href="/javascript-levado-a-serio/" title="Next Post: Javascript levado a sério">Javascript levado a sério &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/experimentos-html5-no-header-do-blog/">Experimentos HTML5 no header do Blog</a>
      </li>
    
      <li class="post">
        <a href="/migrando-para-octopress/">Migrando para o Octopress</a>
      </li>
    
      <li class="post">
        <a href="/analytics-do-blog-em-2012/">Analytics do Blog em 2012</a>
      </li>
    
      <li class="post">
        <a href="/retrospectiva-2012/">Retrospectiva 2012</a>
      </li>
    
      <li class="post">
        <a href="/eati-2012-em-frederico-westphalen/">EATI 2012 em Frederico Westphalen</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/jaydson">@jaydson</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'jaydson',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>






  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
	<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" /></a><br /><span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">Jaydson Gomes Blog</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://jaydson.org" property="cc:attributionName" rel="cc:attributionURL">Jaydson Gomes</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>
</p>
<p>
	<span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>
<script type="text/javascript" src="/javascripts/jaydson.js"></script>
<script type="text/javascript" src="/javascripts/blog-header-experiments.js"></script>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'jaydson';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://jaydson.org/javascript-problema-com-evento-change/';
        var disqus_url = 'http://jaydson.org/javascript-problema-com-evento-change/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
